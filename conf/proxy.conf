upstream primofe {
   server bobcatdev.library.nyu.edu;
}

server {
   listen 80;
   # server_name bobcatdev.library.nyu.edu;
   # return 301 https://$server_name$request_uri;

   location / {
      proxy_set_header  Host $host;
      proxy_set_header  X-Real-IP $remote_addr;
      proxy_set_header  X-Forwarded-Proto https;
      proxy_set_header  X-Forwarded-For $remote_addr;
      proxy_set_header  X-Forwarded-Host $remote_addr;
      proxy_pass http://primofe;
   }
}

# server {
#    listen 443 ssl;
#    server_name bobcatdev.library.nyu.edu;
#    ssl_certificate cert.pem;
#    ssl_certificate_key key.pem;
#    ssl_protocols TLSv1 TLSv1.1 TLSv1.2;

#    location / {
#       proxy_set_header  Host $host;
#       proxy_set_header  X-Real-IP $remote_addr;
#       proxy_set_header  X-Forwarded-Proto https;
#       proxy_set_header  X-Forwarded-For $remote_addr;
#       proxy_set_header  X-Forwarded-Host $remote_addr;
#       proxy_pass http://primofe;
#    }
# }
